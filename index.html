<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>DAVE NAIR - Web Dev Portfolio</title>
  
  <!-- Favicon - Multiple sizes for better browser compatibility -->
  <link rel="icon" type="image/png" sizes="32x32" href="/static/images/DN_Logo.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/static/images/DN_Logo.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/static/images/DN_Logo.png">
  <link rel="shortcut icon" href="/static/images/DN_Logo.png">

  <!-- Font Awesome (v4.7) for icons -->
  <link 
    rel="stylesheet" 
    href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"
    integrity="sha512-..."
    crossorigin="anonymous"
    referrerpolicy="no-referrer"
  />

  <!-- Three.js and GLTFLoader -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/three@0.128/examples/js/loaders/GLTFLoader.js"></script>

  <style>
    /* ---------- Retro Color Palette ---------- */
    :root {
      --terminal-green: #00ff41;
      --terminal-amber: #ffb000;
      --terminal-white: #c0c0c0;
      --crt-black: #0a0a0a;
      --crt-dark: #1a1a1a;
      --retro-shadow: rgba(0, 255, 65, 0.3);
      --amber-shadow: rgba(255, 176, 0, 0.3);
    }

    /* Dark/Light Mode Variables */
    [data-theme="light"] {
      --bg-primary: #f8f9fa;
      --bg-secondary: #ffffff;
      --text-primary: #212529;
      --text-secondary: #495057;
      --border-color: #dee2e6;
      --card-bg: rgba(255, 255, 255, 0.95);
      --terminal-bg: #f8f9fa;
      --terminal-border: #6c757d;
      --terminal-text: #212529;
      --terminal-green-light: #198754;
      --terminal-amber-light: #fd7e14;
      --progress-bg: #e9ecef;
      --scrollbar-bg: #f8f9fa;
      --scrollbar-thumb: #6c757d;
      --section-bg: rgba(255, 255, 255, 0.8);
    }

    [data-theme="dark"] {
      --bg-primary: #0a0a0a;
      --bg-secondary: #1a1a1a;
      --text-primary: #e9ecef;
      --text-secondary: #adb5bd;
      --border-color: #333333;
      --card-bg: rgba(26, 26, 26, 0.8);
      --terminal-bg: #0a0a0a;
      --terminal-border: #333333;
      --terminal-text: #00ff41;
      --terminal-green-light: #00ff41;
      --terminal-amber-light: #ffb000;
      --progress-bg: #333333;
      --scrollbar-bg: #0a0a0a;
      --scrollbar-thumb: #00ff41;
      --section-bg: rgba(26, 26, 26, 0.6);
    }

    /* ---------- Retro Scroll Progress Bar ---------- */
    #progress-container {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 3px;
      background: var(--crt-black);
      z-index: 10000;
      border-bottom: 1px solid var(--terminal-green);
    }
    #progress-bar {
      height: 100%;
      width: 0%;
      background: var(--terminal-green);
      box-shadow: 0 0 10px var(--retro-shadow);
      transition: width 0.1s ease;
    }

    /* ---------- Retro Music Controller ---------- */
    .music-controller {
      position: fixed;
      bottom: 20px;
      right: 20px;
      background: var(--card-bg);
      border: 2px solid var(--terminal-green-light);
      border-radius: 12px;
      padding: 15px;
      box-shadow: 0 0 20px var(--retro-shadow);
      backdrop-filter: blur(10px);
      z-index: 9998;
      width: 280px;
      font-family: 'Courier New', monospace;
      transition: all 0.3s ease;
      transform: translateY(100%);
      opacity: 0;
    }

    .music-controller.visible {
      transform: translateY(0);
      opacity: 1;
    }

    .music-controller.minimized {
      width: 80px;
      height: 80px;
      padding: 0;
      overflow: hidden;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      border-radius: 50%;
    }

    .music-controller.minimized .music-content {
      display: none;
    }

    .music-controller.minimized .music-icon {
      display: flex;
      align-items: center;
      justify-content: center;
      width: 100%;
      height: 100%;
      font-size: 2rem;
      color: var(--terminal-green-light);
      animation: musicPulse 2s ease-in-out infinite;
    }

    .music-controller:not(.minimized) .music-icon {
      display: none;
    }

    @keyframes musicPulse {
      0%, 100% { 
        transform: scale(1);
        text-shadow: 0 0 10px var(--retro-shadow);
      }
      50% { 
        transform: scale(1.1);
        text-shadow: 0 0 20px var(--retro-shadow);
      }
    }

    .music-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 12px;
      color: var(--terminal-green-light);
      font-size: 0.9rem;
      font-weight: bold;
    }

    .music-minimize {
      cursor: pointer;
      color: var(--terminal-green-light);
      font-size: 0.8rem;
      padding: 2px 6px;
      border: 1px solid var(--terminal-green-light);
      border-radius: 3px;
      transition: all 0.2s ease;
    }

    .music-minimize:hover {
      background: var(--terminal-green-light);
      color: var(--bg-primary);
    }

    .track-info {
      text-align: center;
      margin-bottom: 10px;
      color: var(--text-primary);
      font-size: 0.75rem;
    }

    .track-title {
      color: var(--terminal-green-light);
      font-weight: bold;
      margin-bottom: 4px;
    }

    .visualizer {
      height: 40px;
      display: flex;
      align-items: end;
      justify-content: center;
      gap: 2px;
      margin-bottom: 12px;
      background: var(--progress-bg);
      border-radius: 4px;
      padding: 4px;
      border: 1px solid var(--border-color);
    }

    .bar {
      width: 3px;
      background: var(--terminal-green-light);
      border-radius: 1px;
      transition: height 0.1s ease;
      min-height: 2px;
    }

    .music-controls {
      display: flex;
      justify-content: center;
      align-items: center;
      gap: 12px;
      margin-bottom: 12px;
    }

    .control-btn {
      background: none;
      border: 2px solid var(--terminal-green-light);
      color: var(--terminal-green-light);
      width: 35px;
      height: 35px;
      border-radius: 50%;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: all 0.2s ease;
      font-size: 0.9rem;
    }

    .control-btn:hover {
      background: var(--terminal-green-light);
      color: var(--bg-primary);
      box-shadow: 0 0 10px var(--retro-shadow);
    }

    .control-btn.active {
      background: var(--terminal-green-light);
      color: var(--bg-primary);
    }

    .volume-control {
      display: flex;
      align-items: center;
      gap: 8px;
      margin-bottom: 8px;
    }

    .volume-slider {
      flex: 1;
      height: 4px;
      background: var(--progress-bg);
      border-radius: 2px;
      outline: none;
      border: none;
      cursor: pointer;
    }

    .volume-slider::-webkit-slider-thumb {
      appearance: none;
      width: 12px;
      height: 12px;
      background: var(--terminal-green-light);
      border-radius: 50%;
      cursor: pointer;
      box-shadow: 0 0 5px var(--retro-shadow);
    }

    .volume-slider::-moz-range-thumb {
      width: 12px;
      height: 12px;
      background: var(--terminal-green-light);
      border-radius: 50%;
      cursor: pointer;
      border: none;
      box-shadow: 0 0 5px var(--retro-shadow);
    }

    .track-switch {
      background: var(--terminal-green-light);
      color: var(--bg-primary);
      border: none;
      padding: 6px 12px;
      border-radius: 4px;
      cursor: pointer;
      font-family: 'Courier New', monospace;
      font-size: 0.7rem;
      transition: all 0.2s ease;
      width: 100%;
    }

    .track-switch:hover {
      opacity: 0.8;
    }

    /* ---------- Retro Computer Terminal ---------- */
    .retro-screen {
      width: 800px;
      height: 400px;
      margin: 0 auto;
      background: var(--terminal-bg);
      border: 16px solid var(--terminal-border);
      border-radius: 12px;
      box-shadow: 
        0 0 30px var(--retro-shadow),
        inset 0 0 15px rgba(0, 255, 65, 0.1),
        0 15px 35px rgba(0, 0, 0, 0.8);
      position: relative;
      overflow: hidden;
      opacity: 0;
      animation: bootup 3s ease-out forwards;
      transition: all 0.3s ease;
    }
    @keyframes bootup {
      0% {
        opacity: 0;
        transform: scale(0.9);
        filter: brightness(0);
      }
      50% {
        opacity: 0.7;
        transform: scale(1.01);
        filter: brightness(1.2);
      }
      80% {
        opacity: 1;
        transform: scale(1.02);
        filter: brightness(1.3);
      }
      100% {
        opacity: 1;
        transform: scale(1);
        filter: brightness(1);
      }
    }

    /* Retro Scanlines effect */
    .retro-screen::after {
      content: "";
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: repeating-linear-gradient(
        180deg,
        transparent,
        transparent 2px,
        rgba(0, 255, 65, 0.03) 2px,
        rgba(0, 255, 65, 0.03) 4px
      );
      pointer-events: none;
      animation: scanlines 0.1s linear infinite;
      opacity: 0.7;
      transition: opacity 0.3s ease;
    }
    [data-theme="light"] .retro-screen::after {
      background: repeating-linear-gradient(
        180deg,
        transparent,
        transparent 2px,
        rgba(0, 0, 0, 0.02) 2px,
        rgba(0, 0, 0, 0.02) 4px
      );
      opacity: 0.3;
    }
    @keyframes scanlines {
      0% { transform: translateY(0px); }
      100% { transform: translateY(4px); }
    }

    /* Subtle flicker effect */
    .retro-screen::before {
      content: "";
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 255, 65, 0.02);
      pointer-events: none;
      animation: flicker 0.15s ease-in-out infinite alternate;
      transition: background 0.3s ease;
    }
    [data-theme="light"] .retro-screen::before {
      background: rgba(0, 0, 0, 0.01);
    }
    @keyframes flicker {
      0% { opacity: 1; }
      100% { opacity: 0.98; }
    }

    /* ---------- Retro Terminal Header ---------- */
    .terminal-header {
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 32px;
      background: var(--bg-secondary);
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 0 12px;
      font-family: 'Courier New', monospace;
      font-size: 0.85rem;
      color: var(--terminal-green-light);
      border-bottom: 1px solid var(--border-color);
      transition: all 0.3s ease;
    }
    .terminal-controls {
      display: flex;
      align-items: center;
      gap: 6px;
    }
    .terminal-controls .control {
      width: 12px;
      height: 12px;
      border-radius: 50%;
      cursor: pointer;
      transition: all 0.2s ease;
    }
    .terminal-controls .control:hover {
      transform: scale(1.1);
    }
    .terminal-controls .close { 
      background: #ff5f56;
    }
    .terminal-controls .minimize { 
      background: var(--terminal-amber-light);
    }
    .terminal-controls .maximize { 
      background: var(--terminal-green-light);
    }
    .terminal-menu span {
      margin-left: 15px;
      cursor: pointer;
      transition: all 0.2s ease;
      padding: 3px 8px;
      border-radius: 3px;
      color: var(--terminal-green-light);
    }
    .terminal-menu span:hover { 
      color: var(--text-primary);
      background: rgba(0, 255, 65, 0.1);
    }

    /* ---------- Retro Dotted Heading ---------- */
    .dotted-heading {
      margin-top: 40px;
      text-align: left;
      padding-left: 12px;
      overflow: hidden;
      clip-path: inset(100% 0 0 0);
      animation: revealHeading 3s forwards;
    }
    @keyframes revealHeading { 
      to { clip-path: inset(0 0 0 0); } 
    }
    .dotted-heading svg { 
      width: 100%; 
      height: auto; 
      filter: drop-shadow(0 0 5px var(--retro-shadow));
    }

    /* ---------- Retro Terminal Text ---------- */
    #terminal {
      margin-top: 12px;
      padding: 0 12px;
      text-align: left;
      white-space: pre-wrap;
      word-wrap: break-word;
      overflow-y: auto;
      max-height: calc(100% - 100px);
      scroll-behavior: smooth;
      font-family: 'Courier New', monospace;
      font-size: 15px;
      color: var(--terminal-text);
      text-shadow: 0 0 3px var(--retro-shadow);
      line-height: 1.3;
      transition: all 0.3s ease;
    }
    #terminal::-webkit-scrollbar { width: 8px; }
    #terminal::-webkit-scrollbar-track { 
      background: var(--scrollbar-bg); 
    }
    #terminal::-webkit-scrollbar-thumb { 
      background: var(--scrollbar-thumb);
      border-radius: 4px;
    }

    /* ---------- Retro Progress Bar in Terminal ---------- */
    .install-progress-wrapper { margin-top: 12px; }
    .install-progress-title {
      font-family: 'Courier New', monospace;
      font-size: 15px;
      margin-bottom: 5px;
      text-shadow: 0 0 3px var(--retro-shadow);
      color: var(--terminal-text);
    }
    .install-progress-container {
      width: 70%;
      background: var(--progress-bg);
      border: 1px solid var(--terminal-green-light);
      border-radius: 2px;
      overflow: hidden;
    }
    .install-progress-bar {
      height: 16px;
      width: 0%;
      background: var(--terminal-green-light);
      transition: width 0.5s ease;
      box-shadow: 0 0 5px var(--retro-shadow);
    }

    /* ---------- Retro Blinking Cursor ---------- */
    .cursor {
      display: inline-block;
      width: 10px;
      background: var(--terminal-green-light);
      margin-left: 2px;
      animation: blink 1s infinite;
    }
    @keyframes blink { 
      0% { opacity: 1; } 
      50% { opacity: 0; } 
      100% { opacity: 1; } 
    }

    /* Retro Buttons */
    #resetTerminal {
      display: none;
      margin: 12px;
      background: var(--terminal-green-light);
      border: none;
      color: var(--terminal-bg);
      padding: 8px 16px;
      font-family: 'Courier New', monospace;
      font-size: 0.9rem;
      cursor: pointer;
      border-radius: 3px;
      transition: all 0.2s ease;
    }
    #resetTerminal:hover { 
      background: var(--text-primary);
      color: var(--bg-primary);
    }

    #launchGame {
      background: var(--terminal-green-light);
      border: none;
      color: var(--terminal-bg);
      padding: 4px 10px;
      font-family: 'Courier New', monospace;
      font-size: 0.8rem;
      cursor: pointer;
      display: inline;
      margin-left: 6px;
      border-radius: 2px;
      transition: all 0.2s ease;
    }
    #launchGame:hover { 
      background: var(--text-primary);
      color: var(--bg-primary);
    }

    /* ---------- Retro Icon Rotation ---------- */
    .icon-toggle { 
      transition: transform 0.3s ease; 
    }
    .icon-rotated { 
      transform: rotate(180deg); 
    }

    /* ---------- Retro Base Styles ---------- */
    * { 
      margin: 0; 
      padding: 0; 
      box-sizing: border-box; 
    }
    html { 
      scroll-behavior: smooth; 
    }
    body {
      font-family: "Courier New", monospace;
      background: var(--bg-primary, var(--crt-black));
      color: var(--text-primary, var(--terminal-white));
      line-height: 1.5;
      padding-top: 3px;
      overflow-x: hidden;
      transition: background-color 0.3s ease, color 0.3s ease;
    }
    
    /* Ensure default fallbacks for better initialization */
    body:not([data-theme]) {
      background: #0a0a0a;
      color: #e9ecef;
    }
    a { 
      color: inherit; 
      text-decoration: none; 
      transition: all 0.2s ease;
    }

    /* ---------- Retro Navbar ---------- */
    nav {
      position: fixed;
      top: 3px;
      width: 100%;
      background: var(--bg-secondary);
      backdrop-filter: blur(10px);
      z-index: 9999;
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 0.8rem 2rem;
      border-bottom: 1px solid var(--border-color);
      transition: background-color 0.3s ease;
    }
    .nav-brand { 
      font-size: 1.4rem; 
      font-weight: bold; 
      color: var(--terminal-green-light);
      text-shadow: 0 0 5px var(--retro-shadow);
      transition: all 0.3s ease;
      display: flex;
      align-items: center;
      gap: 12px;
    }
    .nav-brand img {
      width: 32px;
      height: 32px;
      border-radius: 4px;
      filter: drop-shadow(0 0 5px var(--retro-shadow));
      transition: all 0.3s ease;
    }
    .nav-brand img:hover {
      transform: scale(1.05);
    }
    .nav-right {
      display: flex;
      align-items: center;
      gap: 1rem;
    }
    .theme-toggle {
      background: var(--terminal-green-light);
      border: none;
      color: var(--bg-primary);
      padding: 6px 12px;
      border-radius: 4px;
      cursor: pointer;
      font-family: 'Courier New', monospace;
      font-size: 0.8rem;
      transition: all 0.2s ease;
      display: flex;
      align-items: center;
      justify-content: center;
      min-width: 32px;
      height: 32px;
    }
    .theme-toggle:hover {
      opacity: 0.8;
      transform: scale(1.05);
    }
    .theme-toggle i {
      font-size: 14px;
    }
    .nav-links { 
      list-style: none; 
      display: flex; 
      gap: 1.5rem; 
    }
    .nav-links a { 
      color: var(--text-primary); 
      transition: all 0.2s ease;
      padding: 6px 12px;
      border-radius: 3px;
    }
    .nav-links a:hover { 
      color: var(--terminal-green-light);
      background: rgba(0, 255, 65, 0.1);
      text-shadow: 0 0 3px var(--retro-shadow);
    }
    .hamburger { 
      display: none; 
      font-size: 1.6rem; 
      cursor: pointer; 
      color: var(--text-primary);
      transition: all 0.2s ease;
    }
    .hamburger:hover {
      color: var(--terminal-green-light);
    }

    /* ---------- Retro HERO SECTION ---------- */
    .hero {
      width: 100%;
      height: 100vh;
      padding-top: 70px;
      background: 
        radial-gradient(circle at 20% 80%, rgba(0, 255, 65, 0.05) 0%, transparent 50%),
        radial-gradient(circle at 80% 20%, rgba(255, 176, 0, 0.05) 0%, transparent 50%),
        var(--bg-primary);
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      text-align: center;
      position: relative;
      overflow: hidden;
      transition: all 0.3s ease;
    }
    .hero::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><defs><pattern id="grid" width="10" height="10" patternUnits="userSpaceOnUse"><path d="M 10 0 L 0 0 0 10" fill="none" stroke="rgba(0,255,65,0.06)" stroke-width="0.5"/></pattern></defs><rect width="100" height="100" fill="url(%23grid)"/></svg>');
      animation: gridMove 20s linear infinite;
      opacity: 1;
      transition: opacity 0.3s ease;
    }
    [data-theme="light"] .hero::before {
      background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><defs><pattern id="grid" width="10" height="10" patternUnits="userSpaceOnUse"><path d="M 10 0 L 0 0 0 10" fill="none" stroke="rgba(0,0,0,0.08)" stroke-width="0.5"/></pattern></defs><rect width="100" height="100" fill="url(%23grid)"/></svg>');
      opacity: 0.5;
    }
    @keyframes gridMove {
      0% { transform: translate(0, 0); }
      100% { transform: translate(10px, 10px); }
    }
    .hero-down { 
      margin-top: 2rem; 
      z-index: 2;
    }
    .hero-down a { 
      display: inline-block;
      transition: all 0.2s ease;
    }
    .hero-down a:hover {
      transform: translateY(3px);
    }
    .hero-down i { 
      font-size: 1.8rem; 
      color: var(--terminal-green-light);
      text-shadow: 0 0 5px var(--retro-shadow);
      animation: bounce 2s ease-in-out infinite;
      transition: all 0.3s ease;
    }
    @keyframes bounce {
      0%, 20%, 50%, 80%, 100% { transform: translateY(0); }
      40% { transform: translateY(-8px); }
      60% { transform: translateY(-4px); }
    }

    /* ---------- Retro Section Wrapper ---------- */
    .section {
      width: 90%;
      max-width: 1100px;
      margin: 0 auto;
      padding: 4rem 0;
      position: relative;
    }
    .section::before {
      content: '';
      position: absolute;
      top: 0;
      left: 50%;
      width: 80px;
      height: 1px;
      background: var(--terminal-green-light);
      transform: translateX(-50%);
    }
    .section-title {
      font-size: 2.2rem;
      text-align: center;
      margin-bottom: 2.5rem;
      position: relative;
      color: var(--terminal-green-light);
      text-shadow: 0 0 8px var(--retro-shadow);
      font-family: 'Courier New', monospace;
      transition: all 0.3s ease;
    }
    .section-title::after {
      content: '';
      position: absolute;
      bottom: -8px;
      left: 50%;
      width: 50px;
      height: 2px;
      background: var(--terminal-green-light);
      transform: translateX(-50%);
    }

    /* ---------- Retro Skills ---------- */
    .skills-grid {
      display: flex;
      flex-wrap: wrap;
      gap: 2rem;
      justify-content: center;
      align-items: start;
      max-width: 1200px;
      margin: 0 auto;
    }
    .skill-card {
      background: var(--card-bg, rgba(26, 26, 26, 0.6));
      border-radius: 8px;
      border: 1px solid var(--border-color, #333);
      box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
      padding: 1.8rem;
      transition: all 0.3s ease;
      position: relative;
      width: 350px;
      min-height: 200px;
      flex: 0 0 auto;
    }
    .skill-card::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 1px;
      background: var(--terminal-green-light);
      transform: scaleX(0);
      transition: transform 0.3s ease;
    }
    .skill-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 8px 30px rgba(0, 255, 65, 0.1);
      border-color: var(--terminal-green-light);
    }
    .skill-card:hover::before {
      transform: scaleX(1);
    }
    .skill-card h3 { 
      margin-bottom: 0.8rem; 
      font-size: 1.2rem; 
      color: var(--terminal-green-light);
      text-shadow: 0 0 3px var(--retro-shadow);
      font-family: 'Courier New', monospace;
    }
    .skill-card p { 
      font-size: 0.9rem; 
      color: var(--text-secondary); 
      line-height: 1.5; 
      margin-bottom: 1rem;
    }
    
    /* Ensure better contrast in dark mode */
    [data-theme="dark"] .skill-card p,
    [data-theme="dark"] .exp-content p,
    [data-theme="dark"] .exp-details p,
    [data-theme="dark"] .about-content p {
      color: #d1d5db;
    }
    .skill-toggle { 
      display: inline-block; 
      margin-top: 0.8rem; 
      cursor: pointer; 
      color: var(--terminal-green-light); 
      font-size: 0.85rem;
      padding: 6px 12px;
      background: rgba(0, 255, 65, 0.05);
      border-radius: 4px;
      transition: all 0.2s ease;
      border: 1px solid rgba(0, 255, 65, 0.2);
    }
    .skill-toggle:hover {
      background: rgba(0, 255, 65, 0.1);
    }
    .skill-details {
      max-height: 0;
      overflow: hidden;
      margin-top: 1rem;
      transition: all 0.4s ease;
      opacity: 0;
    }
    .skill-details p { 
      font-size: 0.85rem; 
      line-height: 1.5; 
      color: var(--text-secondary); 
      margin-bottom: 1.2rem; 
    }
    .skill-details img { 
      width: 100%; 
      margin-bottom: 1.2rem; 
      border-radius: 4px; 
    }
    .skill-resources { 
      display: flex; 
      flex-wrap: wrap; 
      gap: 0.6rem; 
    }
    .skill-resources a {
      font-size: 0.75rem;
      color: var(--terminal-green-light);
      background: var(--border-color);
      padding: 0.4rem 0.8rem;
      border-radius: 3px;
      display: inline-block;
      transition: all 0.2s ease;
      border: 1px solid rgba(0, 255, 65, 0.3);
    }
    .skill-resources a:hover { 
      background: var(--terminal-green-light);
      color: var(--bg-primary);
    }

    /* ---------- Retro Experience ---------- */
    .experience-grid {
      display: flex;
      flex-wrap: wrap;
      gap: 2rem;
      justify-content: center;
      align-items: start;
      max-width: 1200px;
      margin: 0 auto;
    }
    .exp-card {
      background: var(--card-bg, rgba(26, 26, 26, 0.6));
      border-radius: 8px;
      border: 1px solid var(--border-color, #333);
      box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
      transition: all 0.3s ease;
      overflow: hidden;
      position: relative;
      width: 380px;
      flex: 0 0 auto;
    }
    .exp-card::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 2px;
      background: var(--terminal-green-light);
      transform: scaleX(0);
      transition: transform 0.3s ease;
    }
    .exp-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 8px 30px rgba(0, 255, 65, 0.1);
      border-color: var(--terminal-green-light);
    }
    .exp-card:hover::before {
      transform: scaleX(1);
    }
    .exp-image { 
      width: 100%; 
      height: 200px; 
      object-fit: cover; 
      display: block;
      transition: all 0.3s ease;
      filter: grayscale(0.3);
    }
    .exp-card:hover .exp-image {
      filter: grayscale(0);
    }
    .exp-content { 
      padding: 1.5rem; 
    }
    .exp-content h3 { 
      margin-bottom: 0.8rem; 
      font-size: 1.2rem;
      color: var(--terminal-green-light);
      text-shadow: 0 0 3px var(--retro-shadow);
      font-family: 'Courier New', monospace;
    }
    .exp-content p { 
      font-size: 0.9rem; 
      line-height: 1.5; 
      color: var(--text-secondary); 
    }
    .exp-links { 
      margin-top: 1.2rem; 
      display: flex; 
      gap: 1rem; 
    }
    .exp-links a { 
      font-size: 0.85rem; 
      color: var(--terminal-green-light);
      padding: 6px 12px;
      background: rgba(0, 255, 65, 0.05);
      border-radius: 4px;
      transition: all 0.2s ease;
      border: 1px solid rgba(0, 255, 65, 0.3);
    }
    .exp-links a:hover {
      background: var(--terminal-green-light);
      color: var(--bg-primary);
    }
    .exp-toggle { 
      display: inline-block; 
      margin-top: 0.8rem; 
      cursor: pointer; 
      color: var(--terminal-green-light); 
      font-size: 0.85rem;
      padding: 6px 12px;
      background: rgba(0, 255, 65, 0.05);
      border-radius: 4px;
      transition: all 0.2s ease;
      border: 1px solid rgba(0, 255, 65, 0.2);
    }
    .exp-toggle:hover {
      background: rgba(0, 255, 65, 0.1);
    }
    .exp-details {
      max-height: 0;
      overflow: hidden;
      margin: 0 1.5rem;
      transition: all 0.4s ease;
      opacity: 0;
    }
    .exp-details p { 
      font-size: 0.85rem; 
      line-height: 1.5; 
      color: var(--text-secondary); 
      margin-bottom: 1.2rem; 
    }
    .exp-details img { 
      width: 100%; 
      margin-bottom: 1.2rem; 
      border-radius: 4px; 
    }
    .exp-resources { 
      display: flex; 
      flex-wrap: wrap; 
      gap: 0.6rem; 
      margin-top: 1rem; 
    }
    .exp-resources a {
      font-size: 0.75rem;
      color: var(--terminal-green-light);
      background: var(--border-color);
      padding: 0.4rem 0.8rem;
      border-radius: 3px;
      display: inline-block;
      transition: all 0.2s ease;
      border: 1px solid rgba(0, 255, 65, 0.3);
    }
    .exp-resources a:hover { 
      background: var(--terminal-green-light);
      color: var(--bg-primary);
    }

    /* ---------- Retro About ---------- */
    .about-wrapper {
      display: flex;
      flex-direction: column;
      align-items: center;
      text-align: center;
      gap: 2.5rem;
      padding: 2rem;
      background: var(--card-bg, rgba(26, 26, 26, 0.4));
      border-radius: 12px;
      border: 1px solid var(--border-color, #333);
    }
    .about-image {
      width: 180px;
      height: 180px;
      border-radius: 50%;
      object-fit: cover;
      border: 2px solid var(--terminal-green-light);
      box-shadow: 0 0 20px var(--retro-shadow);
      transition: all 0.3s ease;
      filter: grayscale(0.2);
    }
    .about-image:hover {
      transform: scale(1.05);
      filter: grayscale(0);
    }
    .about-content { 
      max-width: 800px; 
    }
    .about-content p { 
      line-height: 1.6; 
      color: var(--text-secondary); 
      font-size: 1rem;
      margin-bottom: 1.2rem;
    }

    /* ---------- Retro Contact ---------- */
    .contact-container {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 2.5rem;
    }
    .contact-links {
      display: flex;
      flex-wrap: wrap;
      gap: 2rem;
      justify-content: center;
      margin-bottom: 2rem;
    }
    .contact-link {
      background: var(--card-bg, rgba(26, 26, 26, 0.6));
      width: 120px;
      height: 120px;
      border-radius: 8px;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      transition: all 0.3s ease;
      border: 1px solid var(--border-color, #333);
      box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
      color: var(--text-primary, var(--terminal-white));
      position: relative;
    }
    .contact-link::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 255, 65, 0.05);
      opacity: 0;
      transition: opacity 0.3s ease;
      border-radius: 8px;
    }
    .contact-link:hover {
      transform: translateY(-5px);
      box-shadow: 0 8px 30px rgba(0, 255, 65, 0.1);
      border-color: var(--terminal-green-light);
    }
    .contact-link:hover::before {
      opacity: 1;
    }
    .contact-link i { 
      font-size: 2.2rem; 
      margin-bottom: 0.8rem; 
      color: var(--terminal-green-light);
      text-shadow: 0 0 5px var(--retro-shadow);
      transition: all 0.2s ease;
    }
    .contact-link:hover i {
      transform: scale(1.1);
    }
    .contact-info { 
      text-align: center; 
      color: var(--text-secondary); 
      font-size: 0.9rem; 
    }

    /* ---------- Retro Resume ---------- */
    .resume-download { 
      text-align: center;
      padding: 2rem;
      background: var(--section-bg);
      border-radius: 12px;
      border: 1px solid var(--border-color);
    }
    .resume-download a { 
      display: inline-block;
      transition: all 0.3s ease;
    }
    .resume-download a:hover {
      transform: translateY(-5px);
    }
    .resume-download img {
      width: 4rem;
      height: 4rem;
      filter: 
        invert(1) 
        sepia(1) 
        saturate(5) 
        hue-rotate(90deg);
      transition: all 0.3s ease;
    }
    .resume-download a:hover img {
      filter: 
        invert(1) 
        sepia(1) 
        saturate(5) 
        hue-rotate(90deg)
        drop-shadow(0 0 10px var(--retro-shadow));
    }

    /* ---------- Retro Up Arrow ---------- */
    .up-arrow { 
      text-align: center; 
      margin: 2.5rem 0; 
    }
    .up-arrow a { 
      display: inline-block;
      padding: 0.8rem;
      background: var(--card-bg);
      border-radius: 50%;
      border: 1px solid var(--border-color);
      transition: all 0.3s ease;
    }
    .up-arrow a:hover {
      transform: translateY(-3px);
      border-color: var(--terminal-green-light);
      box-shadow: 0 5px 15px rgba(0, 255, 65, 0.1);
    }
    .up-arrow i { 
      font-size: 1.8rem; 
      color: var(--text-secondary);
      transition: all 0.2s ease;
    }
    .up-arrow a:hover i {
      color: var(--terminal-green-light);
      text-shadow: 0 0 5px var(--retro-shadow);
    }

    /* ---------- Retro Footer ---------- */
    footer {
      background: var(--bg-secondary);
      text-align: center;
      color: var(--text-secondary);
      padding: 1.5rem;
      border-top: 1px solid var(--border-color);
      transition: all 0.3s ease;
    }
    #user-ip { 
      font-size: 0.85rem; 
      margin-top: 1rem;
      color: var(--text-secondary);
    }

    /* ---------- Retro PC Off Screen ---------- */
    #pcOffScreen {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: var(--crt-black);
      z-index: 12000;
      color: var(--terminal-white);
      font-family: 'Courier New', monospace;
    }
    #pcOffScreen .pcOffContent { 
      position: relative; 
      width: 100%; 
      height: 100%; 
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: space-between;
      padding: 5% 2%;
    }
    #pcOffScreen .message {
      background: rgba(255, 176, 0, 0.9);
      padding: 20px 30px;
      border-radius: 8px;
      font-size: 1.3rem;
      text-align: center;
      color: var(--crt-black);
      box-shadow: 0 5px 20px rgba(255, 176, 0, 0.3);
      animation: messageFloat 2s ease-in-out infinite alternate;
      max-width: 500px;
      margin-top: 10%;
    }
    @keyframes messageFloat {
      0% { transform: translateY(0px); }
      100% { transform: translateY(-5px); }
    }
    
    /* Enhanced Round Red Power Button */
    #pcOffScreen .powerBtn {
      width: 100px;
      height: 100px;
      background: radial-gradient(circle at 30% 30%, #ff6b6b, #dc143c, #8b0000);
      border: 4px solid #ff4444;
      border-radius: 50%;
      font-size: 0.9rem;
      color: white;
      cursor: pointer;
      transition: all 0.3s ease;
      font-family: 'Courier New', monospace;
      font-weight: bold;
      display: flex;
      align-items: center;
      justify-content: center;
      text-align: center;
      line-height: 1.2;
      text-shadow: 0 1px 2px rgba(0, 0, 0, 0.5);
      box-shadow: 
        0 0 20px rgba(255, 0, 0, 0.4),
        inset 0 2px 5px rgba(255, 255, 255, 0.2),
        inset 0 -2px 5px rgba(0, 0, 0, 0.3);
      animation: powerGlow 2s ease-in-out infinite alternate;
      margin-bottom: 5%;
    }
    @keyframes powerGlow {
      0% { 
        box-shadow: 
          0 0 20px rgba(255, 0, 0, 0.4),
          inset 0 2px 5px rgba(255, 255, 255, 0.2),
          inset 0 -2px 5px rgba(0, 0, 0, 0.3);
      }
      100% { 
        box-shadow: 
          0 0 30px rgba(255, 0, 0, 0.7),
          0 0 50px rgba(255, 0, 0, 0.3),
          inset 0 2px 5px rgba(255, 255, 255, 0.3),
          inset 0 -2px 5px rgba(0, 0, 0, 0.2);
      }
    }
    #pcOffScreen .powerBtn:hover {
      transform: scale(1.1);
      background: radial-gradient(circle at 30% 30%, #ff5555, #ff0000, #cc0000);
      box-shadow: 
        0 0 40px rgba(255, 0, 0, 0.8),
        0 0 60px rgba(255, 0, 0, 0.4),
        inset 0 2px 8px rgba(255, 255, 255, 0.3);
      animation: powerPulse 0.5s ease-in-out infinite alternate;
    }
    @keyframes powerPulse {
      0% { transform: scale(1.1); }
      100% { transform: scale(1.15); }
    }
    #pcOffScreen .powerBtn:active {
      transform: scale(1.05);
      box-shadow: 
        0 0 25px rgba(255, 0, 0, 0.6),
        inset 0 2px 10px rgba(0, 0, 0, 0.4);
    }
    #pcCanvas { 
      position: absolute;
      top: 0;
      left: 0;
      width: 100%; 
      height: 100%; 
      z-index: -1;
    }

    /* ---------- Responsive Design ---------- */
    @media (max-width: 800px) {
      .retro-screen {
        width: 95%;
        height: auto;
        padding: 12px;
        border: 8px solid #333;
      }
      #terminal { 
        font-size: 13px; 
      }
      .dotted-heading svg text { 
        font-size: 40px; 
      }
      .section-title {
        font-size: 1.8rem;
      }
      .skills-grid,
      .experience-grid {
        flex-direction: column;
        align-items: center;
        gap: 1.5rem;
      }
      .music-controller {
        width: 240px;
        bottom: 10px;
        right: 10px;
      }
      .nav-brand img {
        width: 28px;
        height: 28px;
      }
    }
    @media (max-width: 768px) {
      .nav-right {
        position: relative;
        display: flex;
        align-items: center;
        gap: 0.5rem;
      }
      .nav-links {
        display: none;
        flex-direction: column;
        position: absolute;
        top: 50px;
        right: 0;
        background: var(--bg-secondary);
        backdrop-filter: blur(10px);
        width: 220px;
        padding: 1.2rem;
        border-radius: 0 0 0 8px;
        border: 1px solid var(--border-color);
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
      }
      .nav-links.active { 
        display: flex; 
      }
      .hamburger { 
        display: block; 
        order: 2;
      }
      .theme-toggle {
        order: 1;
        margin-right: 0.5rem;
      }
      .skill-card,
      .exp-card {
        width: 100%;
        max-width: 400px;
      }
      .contact-links {
        gap: 1.2rem;
      }
      .contact-link {
        width: 100px;
        height: 100px;
      }
      .about-wrapper {
        gap: 1.8rem;
        padding: 1.5rem;
      }
      .about-image {
        width: 140px;
        height: 140px;
      }
      .music-controller {
        width: 220px;
        bottom: 10px;
        right: 10px;
      }
      .music-controller.minimized {
        width: 75px;
        height: 75px;
      }
      /* Tablet PC Off Screen adjustments */
      #pcOffScreen .message {
        font-size: 1.2rem;
        max-width: 400px;
      }
      #pcOffScreen .powerBtn {
        width: 90px;
        height: 90px;
        font-size: 0.85rem;
      }
    }
    @media (max-width: 480px) {
      .retro-screen {
        width: 90%;
        height: 300px;
      }
      #terminal {
        height: 230px !important;
        max-height: 230px !important;
        font-size: 12px;
      }
      .section {
        width: 95%;
        padding: 3rem 0;
      }
      .section-title {
        font-size: 1.6rem;
      }
      .skill-card,
      .exp-card {
        width: 100%;
        max-width: 380px;
        padding: 1.3rem;
      }
      .contact-link {
        width: 90px;
        height: 90px;
      }
      .contact-link i {
        font-size: 1.8rem;
      }
      .music-controller {
        width: 200px;
        bottom: 10px;
        right: 10px;
        padding: 12px;
      }
      .music-controller.minimized {
        width: 70px;
        height: 70px;
      }
      .nav-brand img {
        width: 24px;
        height: 24px;
      }
      .nav-brand {
        font-size: 1.2rem;
        gap: 8px;
      }
    }

    /* ---------- Retro Particles ---------- */
    .particles {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
      z-index: 1;
    }
    .particle {
      position: absolute;
      width: 1px;
      height: 1px;
      background: var(--terminal-green-light);
      border-radius: 50%;
      animation: float 8s ease-in-out infinite;
      opacity: 0.2;
      transition: background 0.3s ease;
    }
    @keyframes float {
      0%, 100% { transform: translateY(0px) rotate(0deg); }
      50% { transform: translateY(-15px) rotate(180deg); }
    }

    /* ---------- Scroll Animations ---------- */
    .fade-in {
      opacity: 0;
      transform: translateY(20px);
      transition: all 0.6s ease;
    }
    .fade-in.visible {
      opacity: 1;
      transform: translateY(0);
    }
  </style>
</head>
<body>

  <!-- Retro Floating Particles -->
  <div class="particles" id="particles"></div>

  <!-- Retro Scroll Progress Bar -->
  <div id="progress-container">
    <div id="progress-bar"></div>
  </div>

  <!-- Enhanced Navbar with Theme Toggle -->
  <nav>
    <div class="nav-brand">
      <a href="#hero" style="display: flex; align-items: center; gap: 12px;">
        <img src="/static/images/DN_Logo.png" alt="DN Logo" id="navLogo">
      </a>
    </div>
    <div class="nav-right">
      <ul class="nav-links">
        <li><a href="#hero">Home</a></li>
        <li><a href="#about">About</a></li>
        <li><a href="#skills">Skills</a></li>
        <li><a href="#experience">Experience</a></li>
        <li><a href="#resume">Resume</a></li>
        <li><a href="#contact">Contact</a></li>
      </ul>
      <button class="theme-toggle" id="themeToggle" aria-label="Toggle dark/light mode" type="button">
        <i class="fa fa-sun-o" aria-hidden="true"></i>
      </button>
      <div class="hamburger"><i class="fa fa-bars"></i></div>
    </div>
  </nav>

  <!-- RETRO HERO SECTION WITH TERMINAL -->
  <section id="hero" class="hero">
    <div class="retro-screen fade-in" id="retro-screen">
      <!-- Retro Terminal Header -->
      <div class="terminal-header">
        <div class="terminal-controls">
          <span class="control close" id="macClose"></span>
          <span class="control minimize" id="macMinimize"></span>
          <span class="control maximize"></span>
        </div>
        <div class="terminal-menu">
          <ul class="nav-links">
            <li><a href="#about">About</a></li>
            <li><a href="#skills">Skills</a></li>
            <li><a href="#experience">Experience</a></li>
            <li><a href="#resume">Resume</a></li>
            <li><a href="#contact">Contact</a></li>
          </ul>
        </div>
      </div>
      <!-- Retro Dotted Heading -->
      <div class="dotted-heading">
        <svg viewBox="0 0 600 100" preserveAspectRatio="xMinYMin meet">
          <text x="0" y="70" 
                font-family="Courier New, monospace" 
                font-size="60" 
                stroke="var(--terminal-green-light, #00ff41)" 
                stroke-width="2" 
                stroke-linecap="round" 
                stroke-dasharray="2,2" 
                fill="none"
                id="heroText">
            DAVE NAIR
          </text>
        </svg>
      </div>
      <!-- Retro Terminal Content -->
      <div id="terminal"></div>
      <br>
      <!-- Retro Reboot Terminal Button -->
      <button id="resetTerminal">Reboot ↻</button>
    </div>
    <!-- Retro Down Arrow -->
    <div class="hero-down">
      <a href="#about">
        <br>
        <i class="fa fa-chevron-down"></i>
      </a>
    </div>
  </section>

  <!-- RETRO ABOUT SECTION -->
  <section id="about" class="section fade-in">
    <h2 class="section-title"><code>About Me</code></h2>
    <div class="about-wrapper">
      <img src="/static/images/Screenshot 2025-06-23 at 16.49.15.png" alt="Dave Nair Portrait" class="about-image" />
      <div class="about-content" id="aboutContent">
        <p>
          Hello! I am <strong>Dave Nair</strong>, a Full-Stack Web Developer and Sessional Academic based in <strong>Melbourne</strong> who loves creating user-friendly websites, intuitive UI/UX designs, and providing comprehensive technical support for educational technology systems.
        </p>
        <p>
          I follow proven methodologies to craft clean and reliable solutions, applying strategic ambidexterity concepts and GDPR compliance frameworks. Currently pursuing my Bachelor of Information Technology (Security Management) at Deakin University while working professionally in both development and academic roles.
        </p>
        <p>
          Let's connect and explore how we can create digital experiences that are secure, compliant, and functionally exceptional while maintaining the highest ethical standards.
        </p>
      </div>
    </div>
  </section>

  <!-- RETRO KEY SKILLS SECTION -->
  <section id="skills" class="section fade-in">
    <h2 class="section-title"><code>Technical Skills</code></h2>
    <div class="skills-grid">
      <!-- Updated Skill Card 1 -->
      <div class="skill-card">
        <h3><code>Full-Stack Development</code></h3>
        <p>
          Expert in Django, Python, PostgreSQL for robust backend systems. Proficient in HTML5, CSS3, JavaScript, Alpine.js, HTMX, and Tailwind CSS for modern frontend experiences.
        </p>
        <span class="skill-toggle">
          Expand <i class="fa fa-caret-down icon-toggle" aria-hidden="true"></i>
        </span>
        <div class="skill-details">
          <p>
            I build scalable web applications using Django's MVT architecture, implement RESTful APIs, and create responsive front-ends with modern frameworks. Experience with Docker containerization and PostgreSQL database optimization for enhanced performance.
          </p>
          <div class="skill-resources">
            <a href="https://www.djangoproject.com/" target="_blank">Django</a>
            <a href="https://htmx.org/" target="_blank">HTMX</a>
            <a href="https://alpinejs.dev/" target="_blank">Alpine.js</a>
            <a href="https://tailwindcss.com/" target="_blank">Tailwind CSS</a>
          </div>
        </div>
      </div>
      
      <!-- Updated Skill Card 2 -->
      <div class="skill-card">
        <h3><code>DevOps & Compliance</code></h3>
        <p>
          Implement OWASP ASVS security standards, GDPR compliance, Docker containerization, and collaborative workflows using Git, Jira, and Confluence for enterprise-level projects.
        </p>
        <span class="skill-toggle">
          Expand <i class="fa fa-caret-down icon-toggle" aria-hidden="true"></i>
        </span>
        <div class="skill-details">
          <p>
            I apply security best practices following OWASP guidelines and privacy regulations like GDPR. Manage CI/CD pipelines with Docker, coordinate development workflows using Agile methodologies, and ensure regulatory compliance including data breach notification requirements.
          </p>
          <div class="skill-resources">
            <a href="https://github.com/OWASP/ASVS" target="_blank">OWASP ASVS</a>
            <a href="https://eugdpr.org/" target="_blank">GDPR</a>
            <a href="https://www.docker.com/" target="_blank">Docker</a>
            <a href="https://www.atlassian.com/software/jira" target="_blank">Jira</a>
          </div>
        </div>
      </div>
      
      <!-- New Skill Card 3 -->
      <div class="skill-card">
        <h3><code>Technical Support & Training</code></h3>
        <p>
          Provide comprehensive technical support for educational technology, live-streaming systems, and hybrid learning environments while training stakeholders on best practices.
        </p>
        <span class="skill-toggle">
          Expand <i class="fa fa-caret-down icon-toggle" aria-hidden="true"></i>
        </span>
        <div class="skill-details">
          <p>
            I deliver proactive technical support for hybrid live-streaming lectures, troubleshoot complex technical issues, and facilitate stakeholder communication. Experienced in educational technology support and employee training on cybersecurity ethics and compliance frameworks.
          </p>
          <div class="skill-resources">
            <a href="https://www.deakin.edu.au/" target="_blank">Educational Technology</a>
            <a href="https://www.atlassian.com/itsm/itil" target="_blank">ITIL Support</a>
          </div>
        </div>
      </div>
      
      <!-- Updated Skill Card 4 -->
      <div class="skill-card">
        <h3><code>Business Analysis & Requirements</code></h3>
        <p>
          Skilled in stakeholder needs analysis, use case development, system modeling, and requirements documentation for digital business transformation projects.
        </p>
        <span class="skill-toggle">
          Expand <i class="fa fa-caret-down icon-toggle" aria-hidden="true"></i>
        </span>
        <div class="skill-details">
          <p>
            I analyze business contexts and processes to propose viable solutions, develop comprehensive requirement analysis reports, create use case diagrams, and design system architectures. Experienced in stakeholder management and business process modeling for sustainable technology solutions.
          </p>
          <div class="skill-resources">
            <a href="https://www.atlassian.com/agile" target="_blank">Agile Analysis</a>
            <a href="https://www.atlassian.com/software/confluence" target="_blank">Documentation</a>
          </div>
        </div>
      </div>
      
      <!-- Updated Skill Card 5 -->
      <div class="skill-card">
        <h3><code>Strategic Analysis & Global Mindset</code></h3>
        <p>
          Experienced in strategic ambidexterity, institutional theory application, international business risk assessment, and AI integration for competitive advantage and operational excellence.
        </p>
        <span class="skill-toggle">
          Expand <i class="fa fa-caret-down icon-toggle" aria-hidden="true"></i>
        </span>
        <div class="skill-details">
          <p>
            I apply the Strategy Tripod framework (industry-based, resource-based, and institution-based views) for strategic decision making. Skilled in CAGE distance analysis, liability of foreignness assessment, and strategic alliance evaluation for global business operations.
          </p>
          <div class="skill-resources">
            <a href="https://www.python.org/" target="_blank">Python Analytics</a>
            <a href="https://www.postgresql.org/" target="_blank">Data Analysis</a>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- RETRO EXPERIENCE SECTION -->
  <section id="experience" class="section fade-in">
    <h2 class="section-title"><code>Professional Experience</code></h2>
    <div class="experience-grid">
      
      <!-- New Experience Card 1: Sessional Academic -->
      <div class="exp-card">
        <img src="/static/images/rashid-tajuar-g0nVEyiDBAI-unsplash.jpg" alt="Deakin University Academic Role" class="exp-image" />
        <div class="exp-content">
          <h3>Sessional Academic - Deakin University</h3>
          <p>
            Primary technical support contact for hybrid live-streaming educational technology, assisting teaching staff and students while facilitating stakeholder communication and driving continuous improvement initiatives.
          </p>
          <span class="exp-toggle">
            Expand <i class="fa fa-caret-down icon-toggle" aria-hidden="true"></i>
          </span>
        </div>
        <div class="exp-details" style="padding-bottom: 20px;">
          <p>
            <ul>
              <li><code>• Managed hybrid live-streaming technology systems</code></li>
              <li><code>• Provided proactive technical issue resolution</code></li>
              <li><code>• Facilitated cross-functional stakeholder communication</code></li>
              <li><code>• Coordinated session management and quality assurance</code></li>
              <li><code>• Enhanced teaching experience through technical innovation</code></li>
              <li><code>• Contributed to continuous improvement initiatives</code></li>
            </ul>
          </p>
          <div class="exp-resources">
            <a href="https://www.deakin.edu.au/" target="_blank">Deakin University</a>
            <a href="https://experts.deakin.edu.au/69604-dave-nair" target="_blank">Staff Profile</a>
            <a href="https://www.atlassian.com/itsm/itil" target="_blank">Technical Support</a>
          </div>
        </div>
      </div>

      <!-- Experience Card 2: Junior Web Developer -->
      <div class="exp-card">
        <img src="/static/images/software-developer-6521720_1280.jpg" alt="Junior Web Developer Image" class="exp-image" />
        <div class="exp-content">
          <h3>Junior Web Developer - C4 Engineering</h3>
          <p>
            Currently spearheading secure, scalable web apps with Django, HTML/HTMX, Tailwind CSS, Alpine.js, and Docker at C4 Engineering. Collaborate cross functionally using Agile, ITIL, and OWASP best practices.
          </p>
          <span class="exp-toggle">
            Expand <i class="fa fa-caret-down icon-toggle" aria-hidden="true"></i>
          </span>
        </div>
        <div class="exp-details" style="padding-bottom: 20px;">
          <p>
            <ul>
              <li><code>• Enforce OWASP ASVS standards</code></li>
              <li><code>• Integrate Docker CI/CD pipelines</code></li>
              <li><code>• Collaborate on UI/UX design</code></li>
              <li><code>• Maintain detailed documentation</code></li>
              <li><code>• Reduced vulnerabilities by 30%</code></li>
            </ul>
          </p>
          <div class="exp-resources">
            <a href="https://www.atlassian.com/itsm/itil">ITIL Fundamentals</a>
            <a href="https://www.geeksforgeeks.org/django-crud-create-retrieve-update-delete-function-based-views/"><code>Django</code> CRUD</a>
          </div>
        </div>
      </div>

      <!-- Experience Card 3: Frontend Developer Intern -->
      <div class="exp-card">
        <img src="/static/images/programming-1873854_1280.png" alt="Intern Developer Image" class="exp-image" />
        <div class="exp-content">
          <h3>Frontend Developer Intern - C4 Engineering</h3>
          <p>
            Contributed to UI/UX enhancements at C4 Engineering by developing a robust design system and landing page that boosted user engagement by 25% and development efficiency by 20%.
          </p>
          <span class="exp-toggle">
            Expand <i class="fa fa-caret-down icon-toggle" aria-hidden="true"></i>
          </span>
        </div>
        <div class="exp-details" style="padding-bottom: 20px;">
          <p>
            <ul>
              <li><code>• Crafted reusable UI components</code></li>
              <li><code>• Improved sign-in UX flow</code></li>
              <li><code>• Managed tasks with Jira</code></li>
              <li><code>• Ensured 100% security compliance</code></li>
              <li><code>• Resolved 20+ technical issues</code></li>
            </ul>
          </p>
          <div class="exp-resources">
            <a href="https://www.atlassian.com/software/confluence">Jira & Confluence</a>
            <a href="https://www.figma.com/blog/design-systems-101-what-is-a-design-system/">Design Systems</a>
          </div>
        </div>
      </div>
      
      <!-- Experience Card 4: MOP-Code Project -->
      <div class="exp-card">
        <img src="/static/images/melbourne-5076478_1280.jpg" alt="MOP-Code Project Image" class="exp-image" />
        <div class="exp-content">
          <h3>Frontend Developer - Chameleon MOP</h3>
          <p>
            Contributed to the Melbourne Open Data (MOP) project at Deakin University in collaboration with Chameleon Company, implementing advanced frontend features with React, TypeScript, and TailwindCSS.
          </p>
          <span class="exp-toggle">
            Expand <i class="fa fa-caret-down icon-toggle" aria-hidden="true"></i>
          </span>
        </div>
        <div class="exp-details" style="padding-bottom: 20px;">
          <p>
            <ul>
              <li><code>• Use Case Page Redesign</code></li>
              <li><code>• Chatbot Voice Feature Implementation</code></li>
              <li><code>• UI/UX Enhancements</code></li>
              <li><code>• Client Presentation Delivery</code></li>
            </ul>
          </p>
          <div class="exp-resources">
            <a href="https://github.com/Chameleon-company/MOP-Code" target="_blank"><i class="fa fa-github"></i> MOP-Code Repository</a>
            <a href="https://youtu.be/l9xCXAQsmfQ" target="_blank">Chatbot Demo Video</a>
            <a href="https://melbourne-open-playground.vercel.app" target="_blank">Live Demo</a>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- RETRO RESUME SECTION -->
  <section id="resume" class="section fade-in">
    <h2 class="section-title"><code>Download Resume</code></h2>
    <div class="resume-download">
      <a href="/static/docs/Dave Nair Portfolio Resume.pdf" download>
        <img src="/static/images/file-arrow-down-solid.svg" alt="Download Resume">
      </a>
    </div>
  </section>

  <!-- RETRO CONTACT SECTION -->
  <section id="contact" class="section fade-in">
    <h2 class="section-title"><code>Let's Connect</code></h2>
    <div class="contact-container">
      <div class="contact-links">
        <div class="contact-link">
          <a href="mailto:davenair1@gmail.com">
            <i class="fa fa-envelope"></i>
          </a>
        </div>
        <div class="contact-link">
          <a href="https://www.linkedin.com/in/davenair" target="_blank" rel="noopener noreferrer">
            <i class="fa fa-linkedin"></i>
          </a>
        </div>
      </div>
    </div>
  </section>

  <!-- Retro UP ARROW -->
  <div class="up-arrow fade-in">
    <a href="#hero">
      <i class="fa fa-arrow-up"></i>
    </a>
  </div>

  <!-- RETRO FOOTER -->
  <footer>
    <p><code>&copy; 2025 DAVE NAIR - All Rights Reserved.</code></p>
    <div id="user-ip"><code>Loading location and weather...</code></div>
  </footer>

  <!-- Enhanced PC Off Screen: 3D Model Display -->
  <div id="pcOffScreen">
    <div class="pcOffContent">
      <div class="message">
        Oops, system turned off. Turn it on?
      </div>
      <button class="powerBtn" id="powerButton">Power On</button>
      <canvas id="pcCanvas"></canvas>
    </div>
  </div>

  <!-- Retro Music Controller -->
  <div class="music-controller" id="musicController">
    <!-- Minimized Music Icon -->
    <div class="music-icon" id="musicIcon">
      <i class="fa fa-music"></i>
    </div>
    
    <!-- Full Music Controller Content -->
    <div class="music-content" id="musicContent">
      <div class="music-header">
        <span>♪ NOW PLAYING</span>
        <span class="music-minimize" id="musicMinimize">_</span>
      </div>
      <div class="track-info">
        <div class="track-title" id="trackTitle">Retro Synthwave</div>
      </div>
      <div class="visualizer" id="visualizer">
        <!-- Audio visualization bars will be inserted here -->
      </div>
      <div class="music-controls">
        <button class="control-btn" id="playPauseBtn">
          <i class="fa fa-play"></i>
        </button>
        <button class="control-btn" id="muteBtn">
          <i class="fa fa-volume-up"></i>
        </button>
      </div>
      <div class="volume-control">
        <i class="fa fa-volume-down"></i>
        <input type="range" class="volume-slider" id="volumeSlider" min="0" max="100" value="70">
        <i class="fa fa-volume-up"></i>
      </div>
      <button class="track-switch" id="trackSwitch">Switch to Lo-Fi</button>
    </div>
  </div>

  <!-- Audio Elements -->
  <!-- Main page music -->
  <audio id="synthwaveAudio" loop preload="auto">
    <source src="/static/audio/retro-synthwave-background-soundtrack-341853.mp3" type="audio/mpeg">
  </audio>
  <audio id="lofiAudio" loop preload="auto">
    <source src="/static/audio/lofi-lofi-song-345371.mp3" type="audio/mpeg">
  </audio>

  <script>
    // ===== Music System Variables =====
    let currentMainAudio = null;
    let currentTrack = 'synthwave';
    let mainAudioMuted = false;
    let audioContext;
    let analyser;
    let dataArray;
    let isVisualizerActive = false;
    let wasPlayingBeforePowerOff = false; // Track if music was playing before power off
    let hasUserInteracted = false; // Track if user has interacted with the page

    // ===== Audio Initialization =====
    function initializeAudio() {
      const synthwaveAudio = document.getElementById('synthwaveAudio');
      const lofiAudio = document.getElementById('lofiAudio');
      
      // Set volume levels
      synthwaveAudio.volume = 0.7;
      lofiAudio.volume = 0.7;
      
      // Set current audio
      currentMainAudio = synthwaveAudio;
      
      // Initialize Web Audio API for visualization
      if (!audioContext) {
        audioContext = new (window.AudioContext || window.webkitAudioContext)();
        analyser = audioContext.createAnalyser();
        analyser.fftSize = 64;
        dataArray = new Uint8Array(analyser.frequencyBinCount);
        
        const source = audioContext.createMediaElementSource(currentMainAudio);
        source.connect(analyser);
        analyser.connect(audioContext.destination);
      }
    }

    // ===== Music Controller Functions =====
    function showMusicController() {
      const controller = document.getElementById('musicController');
      setTimeout(() => {
        controller.classList.add('visible');
        // Start minimized
        controller.classList.add('minimized');
        document.getElementById('musicMinimize').textContent = '□';
        
        // Auto-start music when controller appears
        autoStartMusic();
      }, 2000); // Show after 2 seconds
    }

    function autoStartMusic() {
      if (!currentMainAudio) return;
      
      const playPauseBtn = document.getElementById('playPauseBtn');
      
      // Try to auto-start the music
      currentMainAudio.play().then(() => {
        playPauseBtn.innerHTML = '<i class="fa fa-pause"></i>';
        playPauseBtn.classList.add('active');
        wasPlayingBeforePowerOff = true; // Set power off state
        hasUserInteracted = true; // Mark that music is now playing
        if (!isVisualizerActive) {
          startVisualizer();
        }
      }).catch(err => {
        console.log('Auto-play prevented by browser policy, waiting for user interaction');
        // Keep play button showing, music will start on first user interaction
        wasPlayingBeforePowerOff = false;
      });
    }

    function tryStartMusicOnInteraction() {
      if (!hasUserInteracted && currentMainAudio && currentMainAudio.paused && !mainAudioMuted) {
        autoStartMusic();
      }
    }

    function togglePlay() {
      if (!currentMainAudio) return;
      
      hasUserInteracted = true; // Mark that user has interacted
      const playPauseBtn = document.getElementById('playPauseBtn');
      
      if (currentMainAudio.paused) {
        // Resume audio context if needed
        if (audioContext && audioContext.state === 'suspended') {
          audioContext.resume();
        }
        
        currentMainAudio.play().then(() => {
          playPauseBtn.innerHTML = '<i class="fa fa-pause"></i>';
          playPauseBtn.classList.add('active');
          wasPlayingBeforePowerOff = true; // Update power off state
          if (!isVisualizerActive) {
            startVisualizer();
          }
        }).catch(err => {
          console.log('Audio play failed:', err);
        });
      } else {
        currentMainAudio.pause();
        playPauseBtn.innerHTML = '<i class="fa fa-play"></i>';
        playPauseBtn.classList.remove('active');
        wasPlayingBeforePowerOff = false; // Update power off state
        stopVisualizer();
      }
    }

    function toggleMute() {
      if (!currentMainAudio) return;
      
      const muteBtn = document.getElementById('muteBtn');
      mainAudioMuted = !mainAudioMuted;
      currentMainAudio.muted = mainAudioMuted;
      
      if (mainAudioMuted) {
        muteBtn.innerHTML = '<i class="fa fa-volume-off"></i>';
        muteBtn.classList.add('active');
      } else {
        muteBtn.innerHTML = '<i class="fa fa-volume-up"></i>';
        muteBtn.classList.remove('active');
      }
    }

    function changeVolume(volume) {
      if (!currentMainAudio) return;
      currentMainAudio.volume = volume / 100;
    }

    function switchTrack() {
      const synthwaveAudio = document.getElementById('synthwaveAudio');
      const lofiAudio = document.getElementById('lofiAudio');
      const trackTitle = document.getElementById('trackTitle');
      const trackSwitch = document.getElementById('trackSwitch');
      const playPauseBtn = document.getElementById('playPauseBtn');
      
      const wasPlaying = !currentMainAudio.paused;
      const currentTime = currentMainAudio.currentTime;
      
      // Pause current track
      currentMainAudio.pause();
      
      // Switch tracks
      if (currentTrack === 'synthwave') {
        currentMainAudio = lofiAudio;
        currentTrack = 'lofi';
        trackTitle.textContent = 'Lo-Fi Chill';
        trackSwitch.textContent = 'Switch to Synthwave';
      } else {
        currentMainAudio = synthwaveAudio;
        currentTrack = 'synthwave';
        trackTitle.textContent = 'Retro Synthwave';
        trackSwitch.textContent = 'Switch to Lo-Fi';
      }
      
      // Apply current settings to new track
      currentMainAudio.volume = document.getElementById('volumeSlider').value / 100;
      currentMainAudio.muted = mainAudioMuted;
      
      // Resume if was playing
      if (wasPlaying) {
        currentMainAudio.play().then(() => {
          playPauseBtn.innerHTML = '<i class="fa fa-pause"></i>';
          playPauseBtn.classList.add('active');
          wasPlayingBeforePowerOff = true; // Update power off state
        });
      } else {
        wasPlayingBeforePowerOff = false; // Update power off state
      }
      
      // Update Web Audio API source
      if (audioContext) {
        try {
          const source = audioContext.createMediaElementSource(currentMainAudio);
          source.connect(analyser);
          analyser.connect(audioContext.destination);
        } catch (err) {
          // Source already exists, that's okay
        }
      }
    }

    // ===== Audio Visualizer Functions =====
    function createVisualizerBars() {
      const visualizer = document.getElementById('visualizer');
      visualizer.innerHTML = '';
      
      for (let i = 0; i < 24; i++) {
        const bar = document.createElement('div');
        bar.className = 'bar';
        visualizer.appendChild(bar);
      }
    }

    function startVisualizer() {
      if (!analyser || !dataArray) return;
      
      isVisualizerActive = true;
      const bars = document.querySelectorAll('.visualizer .bar');
      
      function animate() {
        if (!isVisualizerActive) return;
        
        analyser.getByteFrequencyData(dataArray);
        
        for (let i = 0; i < bars.length; i++) {
          const barHeight = (dataArray[i] / 255) * 30 + 2; // Scale to 2-32px
          bars[i].style.height = barHeight + 'px';
        }
        
        requestAnimationFrame(animate);
      }
      
      animate();
    }

    function stopVisualizer() {
      isVisualizerActive = false;
      const bars = document.querySelectorAll('.visualizer .bar');
      bars.forEach(bar => {
        bar.style.height = '2px';
      });
    }

    function minimizeController() {
      const controller = document.getElementById('musicController');
      const minimizeBtn = document.getElementById('musicMinimize');
      
      if (controller.classList.contains('minimized')) {
        // Expand the controller
        controller.classList.remove('minimized');
        minimizeBtn.textContent = '_';
      } else {
        // Minimize the controller
        controller.classList.add('minimized');
        minimizeBtn.textContent = '□';
      }
    }

    function expandController() {
      const controller = document.getElementById('musicController');
      const minimizeBtn = document.getElementById('musicMinimize');
      
      if (controller.classList.contains('minimized')) {
        controller.classList.remove('minimized');
        minimizeBtn.textContent = '_';
      }
    }

    // ===== Retro Scroll Progress Bar =====
    window.addEventListener('scroll', () => {
      const scrollTop = window.pageYOffset || document.documentElement.scrollTop;
      const scrollHeight = document.documentElement.scrollHeight - document.documentElement.clientHeight;
      const progress = (scrollTop / scrollHeight) * 100;
      document.getElementById('progress-bar').style.width = progress + '%';
    });

    // ===== Retro Floating Particles =====
    function createParticles() {
      const particlesContainer = document.getElementById('particles');
      const particleCount = 30;
      
      for (let i = 0; i < particleCount; i++) {
        const particle = document.createElement('div');
        particle.className = 'particle';
        particle.style.left = Math.random() * 100 + '%';
        particle.style.top = Math.random() * 100 + '%';
        particle.style.animationDelay = Math.random() * 8 + 's';
        particle.style.animationDuration = (Math.random() * 4 + 4) + 's';
        particlesContainer.appendChild(particle);
      }
    }

    // ===== Retro Scroll Animations =====
    function handleScrollAnimations() {
      const elements = document.querySelectorAll('.fade-in');
      const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
          if (entry.isIntersecting) {
            entry.target.classList.add('visible');
          }
        });
      }, {
        threshold: 0.1,
        rootMargin: '0px 0px -30px 0px'
      });

      elements.forEach(element => {
        observer.observe(element);
      });
    }

    // ----- Retro Terminal Typewriter Effect -----
    const terminal = document.getElementById('terminal');
    let terminalFinished = false;
    let progressElements = []; // Track progress elements for cleanup
    const lines = [
      "> Jr. Web Developer @ C4 Engineering",
      "> Sessional Academic @ Deakin University", 
      "> Building secure, scalable, and compliant web solutions",
      "",
      "> Press S to play snake game or click "
    ];
    let lineIndex = 0;
    let charIndex = 0;
    const typingDelay = 50;
    const lineDelay = 500;
    
    function type() {
      // Check if terminal is still visible before proceeding
      if (document.getElementById('retro-screen').style.display === 'none') {
        return;
      }
      
      terminal.innerHTML = terminal.innerHTML.replace(/<span class="cursor">[_█]<\/span>$/, "");
      if (lineIndex < lines.length) {
        if (charIndex < lines[lineIndex].length) {
          terminal.innerHTML += lines[lineIndex].charAt(charIndex);
          charIndex++;
          terminal.innerHTML += '<span class="cursor">_</span>';
          setTimeout(type, typingDelay);
        } else {
          terminal.innerHTML = terminal.innerHTML.replace(/<span class="cursor">[_█]<\/span>$/, "");
          if (lineIndex === lines.length - 1) {
            terminal.innerHTML += '<button id="launchGame" onclick="launchSnakeGame()">LAUNCH</button>\n';
          } else {
            terminal.innerHTML += "\n";
          }
          charIndex = 0;
          lineIndex++;
          terminal.scrollTop = terminal.scrollHeight;
          setTimeout(type, lineDelay);
        }
      } else {
        document.getElementById('resetTerminal').style.display = 'block';
        terminalFinished = true;
      }
    }
    
    function simulateProgressBar() {
      // Clean up any existing progress elements first
      progressElements.forEach(element => {
        if (element && element.parentNode) {
          element.parentNode.removeChild(element);
        }
      });
      progressElements = [];
      
      const progressWrapper = document.createElement('div');
      progressWrapper.className = 'install-progress-wrapper';
      progressElements.push(progressWrapper);
      
      const progressTitle = document.createElement('div');
      progressTitle.className = 'install-progress-title';
      progressTitle.textContent = "> Retrieving info";
      progressWrapper.appendChild(progressTitle);
      
      const progressContainer = document.createElement('div');
      progressContainer.className = 'install-progress-container';
      const progressBar = document.createElement('div');
      progressBar.className = 'install-progress-bar';
      progressContainer.appendChild(progressBar);
      progressWrapper.appendChild(progressContainer);
      
      // Only append if terminal exists and is empty
      if (terminal && terminal.innerHTML.trim() === '') {
        terminal.appendChild(progressWrapper);
      }
      
      let dotCount = 0;
      const maxDots = 3;
      const dotsInterval = setInterval(() => {
        dotCount = (dotCount + 1) % (maxDots + 1);
        let dots = ".".repeat(dotCount);
        if (progressTitle) {
          progressTitle.textContent = "> Retrieving info" + dots;
        }
      }, 500);
      
      let width = 0;
      const progressInterval = setInterval(() => {
        if (width >= 100) {
          clearInterval(progressInterval);
          clearInterval(dotsInterval);
          // Remove progress bar before starting typewriter
          if (progressWrapper && progressWrapper.parentNode) {
            progressWrapper.parentNode.removeChild(progressWrapper);
          }
          progressElements = progressElements.filter(el => el !== progressWrapper);
          // Only start typing if terminal is still visible
          if (document.getElementById('retro-screen').style.display !== 'none') {
            type();
          }
        } else {
          width++;
          if (progressBar) {
            progressBar.style.width = width + '%';
          }
        }
      }, 30);
    }
    
    // Function to launch snake game on separate page
    function launchSnakeGame() {
      // Open snake game in a new window/tab
      window.open('snake-game.html', '_blank', 'width=800,height=600,resizable=yes,scrollbars=no');
    }
    
    window.addEventListener('load', () => {
      simulateProgressBar();
      createParticles();
      handleScrollAnimations();
      initializeAudio();
      showMusicController();
      createVisualizerBars();
    });
    
    const resetBtn = document.getElementById('resetTerminal');
    function reinitializeTerminal() {
      // Clear terminal content and reset state completely
      terminal.innerHTML = "";
      
      // Clean up any existing progress elements
      progressElements.forEach(element => {
        if (element && element.parentNode) {
          element.parentNode.removeChild(element);
        }
      });
      progressElements = [];
      
      // Reset all terminal state variables
      lineIndex = 0;
      charIndex = 0;
      terminalFinished = false;
      
      // Hide reset button
      document.getElementById('resetTerminal').style.display = 'none';
      
      // Remove any existing event listeners to prevent duplicates
      const oldLaunchButton = document.getElementById('launchGame');
      if (oldLaunchButton) {
        oldLaunchButton.remove();
      }
      
      // Start fresh simulation after a brief delay to ensure clean state
      setTimeout(() => {
        simulateProgressBar();
      }, 100);
    }
    resetBtn.addEventListener('click', reinitializeTerminal);
    
    document.addEventListener('keydown', (e) => {
      if (terminalFinished && e.key.toLowerCase() === 's') {
        launchSnakeGame();
      }
    });

    // ----- Retro Expand/Collapse for Skill & Experience Details -----
    function expandSection(element) {
      const sectionHeight = element.scrollHeight;
      element.style.maxHeight = sectionHeight + 'px';
      element.style.opacity = '1';
    }
    function collapseSection(element) {
      element.style.maxHeight = '0';
      element.style.opacity = '0';
    }
    
    document.querySelectorAll('.skill-toggle').forEach((toggle, index) => {
      const detail = document.querySelectorAll('.skill-details')[index];
      toggle.addEventListener('click', () => {
        if (detail.style.maxHeight && detail.style.maxHeight !== '0px') {
          collapseSection(detail);
          toggle.innerHTML = `Expand <i class="fa fa-caret-down icon-toggle" aria-hidden="true"></i>`;
        } else {
          expandSection(detail);
          toggle.innerHTML = `Hide <i class="fa fa-caret-down icon-toggle icon-rotated" aria-hidden="true"></i>`;
        }
      });
    });
    
    document.querySelectorAll('.exp-toggle').forEach((toggle, index) => {
      const detail = document.querySelectorAll('.exp-details')[index];
      toggle.addEventListener('click', () => {
        if (detail.style.maxHeight && detail.style.maxHeight !== '0px') {
          collapseSection(detail);
          toggle.innerHTML = `Expand <i class="fa fa-caret-down icon-toggle" aria-hidden="true"></i>`;
        } else {
          expandSection(detail);
          toggle.innerHTML = `Hide <i class="fa fa-caret-down icon-toggle icon-rotated" aria-hidden="true"></i>`;
        }
      });
    });

    // ===== Enhanced Theme Toggle Functionality =====
    let currentTheme = 'dark'; // Default theme
    
    function updateSVGColors() {
      const heroText = document.getElementById('heroText');
      if (heroText) {
        const computedStyle = getComputedStyle(document.documentElement);
        const greenColor = computedStyle.getPropertyValue('--terminal-green-light').trim() || '#00ff41';
        heroText.setAttribute('stroke', greenColor);
      }
    }
    
    function updateThemeToggleIcon() {
      const themeToggle = document.getElementById('themeToggle');
      if (themeToggle) {
        if (currentTheme === 'dark') {
          themeToggle.innerHTML = '<i class="fa fa-sun-o"></i>';
        } else {
          themeToggle.innerHTML = '<i class="fa fa-moon-o"></i>';
        }
      }
    }
    
    function applyTheme(theme) {
      document.documentElement.setAttribute('data-theme', theme);
      document.body.setAttribute('data-theme', theme);
      currentTheme = theme;
      updateThemeToggleIcon();
      setTimeout(updateSVGColors, 100);
    }
    
    function toggleTheme() {
      const newTheme = currentTheme === 'dark' ? 'light' : 'dark';
      applyTheme(newTheme);
    }
    
    // Initialize theme immediately
    applyTheme('dark');
    
    // Setup event listeners when DOM is ready
    document.addEventListener('DOMContentLoaded', () => {
      // Re-apply theme to ensure it's set
      applyTheme(currentTheme);
      
      // Add click event to theme toggle
      const themeToggle = document.getElementById('themeToggle');
      if (themeToggle) {
        themeToggle.addEventListener('click', toggleTheme);
        // Also add keyboard support
        themeToggle.addEventListener('keydown', (e) => {
          if (e.key === 'Enter' || e.key === ' ') {
            e.preventDefault();
            toggleTheme();
          }
        });
      }

      // Music controller event listeners
      document.getElementById('playPauseBtn').addEventListener('click', togglePlay);
      document.getElementById('muteBtn').addEventListener('click', toggleMute);
      document.getElementById('volumeSlider').addEventListener('input', (e) => {
        changeVolume(e.target.value);
      });
      document.getElementById('trackSwitch').addEventListener('click', switchTrack);
      document.getElementById('musicMinimize').addEventListener('click', minimizeController);
      document.getElementById('musicIcon').addEventListener('click', expandController);
    });
    
    // Backup initialization on window load
    window.addEventListener('load', () => {
      applyTheme(currentTheme);
    });

    // ===== Retro Hamburger Menu Toggle =====
    const hamburger = document.querySelector('.hamburger');
    const navLinks = document.querySelector('.nav-links');
    hamburger.addEventListener('click', () => { 
      navLinks.classList.toggle('active'); 
      hamburger.style.transform = navLinks.classList.contains('active') ? 'rotate(90deg)' : 'rotate(0deg)';
    });

    // ----- Retro Smooth Scrolling for Navigation -----
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
      anchor.addEventListener('click', function (e) {
        e.preventDefault();
        const target = document.querySelector(this.getAttribute('href'));
        if (target) {
          target.scrollIntoView({
            behavior: 'smooth',
            block: 'start'
          });
          navLinks.classList.remove('active');
          hamburger.style.transform = 'rotate(0deg)';
        }
      });
    });

    // ----- Fetch and display user's location and weather -----
    fetch('https://ipapi.co/json/')
      .then(response => response.json())
      .then(data => {
        const location = data.city + ', ' + data.region + ', ' + data.country_name;
        return fetch('https://wttr.in/' + data.city + '?format=3')
          .then(response => response.text())
          .then(weather => {
            document.getElementById('user-ip').textContent = location + ' | ' + weather;
          });
      })
      .catch(err => {
        document.getElementById('user-ip').textContent = 'Location and weather unavailable';
      });

    /* ===== Retro Terminal Window Controls to Trigger PC Off Screen ===== */
    function showPcOffScreen() {
      document.getElementById('retro-screen').style.display = 'none';
      document.getElementById('pcOffScreen').style.display = 'block';
      
      // Pause main music when PC is turned off
      pauseMusicForPowerOff();
      
      loadPCModel();
    }
    
    function showTerminal() {
      document.getElementById('pcOffScreen').style.display = 'none';
      document.getElementById('retro-screen').style.display = 'block';
      
      // Resume main music when PC is turned back on
      resumeMusicFromPowerOff();
      
      reinitializeTerminal();
    }

    function pauseMusicForPowerOff() {
      if (!currentMainAudio) return;
      
      // Remember if music was playing before power off
      wasPlayingBeforePowerOff = !currentMainAudio.paused;
      
      if (!currentMainAudio.paused) {
        currentMainAudio.pause();
        const playPauseBtn = document.getElementById('playPauseBtn');
        playPauseBtn.innerHTML = '<i class="fa fa-play"></i>';
        playPauseBtn.classList.remove('active');
        stopVisualizer();
      }
    }

    function resumeMusicFromPowerOff() {
      if (!currentMainAudio || !wasPlayingBeforePowerOff || mainAudioMuted) return;
      
      const playPauseBtn = document.getElementById('playPauseBtn');
      
      // Reset music to start from beginning
      currentMainAudio.currentTime = 0;
      
      currentMainAudio.play().then(() => {
        playPauseBtn.innerHTML = '<i class="fa fa-pause"></i>';
        playPauseBtn.classList.add('active');
        if (!isVisualizerActive) {
          startVisualizer();
        }
      }).catch(err => {
        console.log('Resume music after power on failed:', err);
      });
    }
    document.getElementById('macClose').addEventListener('click', showPcOffScreen);
    document.getElementById('macMinimize').addEventListener('click', showPcOffScreen);

    /* ===== Retro PC Off Screen (3D Model) Setup ===== */
    let pcScene, pcCamera, pcRenderer, pcModel, pcAnimationId;
    let pcModelLoaded = false;
    function loadPCModel() {
      if (pcModelLoaded) return;
      const canvasPC = document.getElementById('pcCanvas');
      pcRenderer = new THREE.WebGLRenderer({ canvas: canvasPC, antialias: true });
      pcRenderer.setSize(canvasPC.offsetWidth, canvasPC.offsetHeight);
      pcScene = new THREE.Scene();
      pcScene.background = new THREE.Color(0x0a0a0a);
      pcCamera = new THREE.PerspectiveCamera(45, canvasPC.offsetWidth / canvasPC.offsetHeight, 0.1, 1000);
      pcCamera.position.set(0, 1.5, 3);
      
      const ambientLight = new THREE.AmbientLight(0xffffff, 0.8);
      pcScene.add(ambientLight);
      const directionalLight = new THREE.DirectionalLight(0xffffff, 0.8);
      directionalLight.position.set(0, 5, 5);
      pcScene.add(directionalLight);
      
      const loader = new THREE.GLTFLoader();
      loader.load('scene.gltf', function(gltf) {
        pcModel = gltf.scene;
        pcModel.scale.set(0.8, 0.8, 0.8);
        pcScene.add(pcModel);
        animatePC();
        pcModelLoaded = true;
      }, undefined, function(error) {
        console.error('Error loading model:', error);
      });
    }
    function animatePC() {
      pcAnimationId = requestAnimationFrame(animatePC);
      if (pcModel) { pcModel.rotation.y += 0.005; }
      pcRenderer.render(pcScene, pcCamera);
    }
    document.getElementById('powerButton').addEventListener('click', function() {
      cancelAnimationFrame(pcAnimationId);
      showTerminal();
    });

    // ===== Retro Window Resize Handling =====
    window.addEventListener('resize', () => {
      if (pcRenderer && pcCamera) {
        const canvas = document.getElementById('pcCanvas');
        pcRenderer.setSize(canvas.offsetWidth, canvas.offsetHeight);
        pcCamera.aspect = canvas.offsetWidth / canvas.offsetHeight;
        pcCamera.updateProjectionMatrix();
      }
    });

    // ===== Handle user interaction for audio autoplay =====
    function setupUserInteractionListeners() {
      const events = ['click', 'touchstart', 'keydown'];
      
      function handleFirstInteraction() {
        hasUserInteracted = true;
        if (audioContext && audioContext.state === 'suspended') {
          audioContext.resume();
        }
        
        // Try to start music if controller is visible and music isn't already playing
        tryStartMusicOnInteraction();
        
        // Remove all event listeners after first interaction
        events.forEach(event => {
          document.removeEventListener(event, handleFirstInteraction);
        });
      }
      
      // Add event listeners for first user interaction
      events.forEach(event => {
        document.addEventListener(event, handleFirstInteraction, { passive: true });
      });
    }

    // Call this when page loads
    setupUserInteractionListeners();
  </script>
</body>
</html>
